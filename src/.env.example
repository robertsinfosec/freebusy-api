# Local development secrets (never commit real values)

# HTTPS iCal free/busy feed to proxy (must be accessible from Cloudflare Workers).
# Example: a private calendar free/busy URL. Use a non-production URL for local dev.
FREEBUSY_ICAL_URL=https://example.com/calendar/freebusy.ics

# Random salt used to hash IPs for rate limiting. Generate with:
#   openssl rand -hex 32
RL_SALT=replace-with-random-string

# Preferred IANA timezone for all returned timestamps and window calculations.
# Example (Eastern):
PREFERRED_TIMEZONE=America/New_York

# Forward-looking window (weeks) starting at 00:00:00 in PREFERRED_TIMEZONE today and ending 23:59:59.999 on the final day.
# Example: 4 means 4 weeks (28 days) inclusive of today.
MAXIMUM_FORWARD_WINDOW_IN_WEEKS=4

# Feature flag to enable/disable /freebusy. Accepts true/false/1/0/off.
# Omit or set to true to keep enabled in local dev.
FREEBUSY_ENABLED=true

# Comma-separated list of allowed origins for CORS (required, no defaults in code).
# Example: https://freebusy.robertsinfosec.com,http://localhost:5000
CORS_ALLOWLIST=http://localhost:5000

# Rate limit window (milliseconds) and max requests per window. Integers > 0 (required).
# Examples:
#   5 minutes window, 60 req:
#     RATE_LIMIT_WINDOW_MS=300000
#     RATE_LIMIT_MAX=60
#   1 minute window, 20 req:
#     RATE_LIMIT_WINDOW_MS=60000
#     RATE_LIMIT_MAX=20
RATE_LIMIT_WINDOW_MS=300000
RATE_LIMIT_MAX=60

# Optional global rate limit (all requests combined) in milliseconds and requests per window.
# Leave both blank to disable. Examples:
#   5 minutes, 500 req globally:
#     RATE_LIMIT_GLOBAL_WINDOW_MS=300000
#     RATE_LIMIT_GLOBAL_MAX=500
RATE_LIMIT_GLOBAL_WINDOW_MS=
RATE_LIMIT_GLOBAL_MAX=
