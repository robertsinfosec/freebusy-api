name = "robertsinfosec-freebusy-api"
main = "src/index.ts"
compatibility_date = "2024-12-18"

[vars]
# Non-secret vars can go here. Secrets are provided via `wrangler secret put`.
MAXIMUM_FORWARD_WINDOW_IN_WEEKS=4
FREEBUSY_ENABLED=true
CORS_ALLOWLIST=https://freebusy.robertsinfosec.com
RATE_LIMIT_WINDOW_MS=300000
RATE_LIMIT_MAX=60
RATE_LIMIT_GLOBAL_WINDOW_MS=300000
RATE_LIMIT_GLOBAL_MAX=500

[[durable_objects.bindings]]
name = "RATE_LIMITER"
class_name = "RateLimitDurable"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["RateLimitDurable"]

[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true
persist = true
